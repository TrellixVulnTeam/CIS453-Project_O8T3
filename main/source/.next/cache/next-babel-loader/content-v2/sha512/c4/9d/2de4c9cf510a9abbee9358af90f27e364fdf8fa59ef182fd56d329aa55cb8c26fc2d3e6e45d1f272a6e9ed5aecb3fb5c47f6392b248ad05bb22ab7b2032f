{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { calculateTotalPrice } from '@common/functions';\nimport AlertModal from '@components/alert-modal';\nimport GUButton from '@components/control/gu-button';\nimport QuantityController from '@components/control/quantity-controller';\nimport Layout from '@components/layout';\nimport Breadcrumb, { BreadcrumbItem } from '@components/other/breadcrumb';\nimport Empty from '@components/other/empty';\nimport Loading from '@components/other/loading';\nimport SubcribeBar from '@components/subcribe-bar';\nimport { handleGetCart, handleRemoveFromCart, handleUpdateCartQuantity } from '@store/thunk/cart';\nimport { times } from 'lodash';\nimport Link from 'next/link';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst Cart = () => {\n  const dispatch = useDispatch();\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n  const [selectedId, setSelectedId] = React.useState(null);\n  const {\n    data,\n    fetching\n  } = useSelector(state => state.cart.list);\n  useEffect(() => {\n    dispatch(handleGetCart());\n  }, []);\n\n  const onConfirmDelete = () => {\n    selectedId && dispatch(handleRemoveFromCart(selectedId));\n    setIsOpen(false);\n  };\n\n  const onChangeQuantity = (cartQuantity, id) => {\n    dispatch(handleUpdateCartQuantity({\n      id,\n      cartQuantity\n    }));\n  };\n\n  const handleSubcribeSubmit = val => {\n    console.log(val);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Layout, {\n      title: \"Cart\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxs(Breadcrumb, {\n          children: [/*#__PURE__*/_jsx(BreadcrumbItem, {\n            href: \"/\",\n            startIcon: /*#__PURE__*/_jsx(\"i\", {\n              className: \"fas fa-home\"\n            }),\n            children: \"Home\"\n          }), /*#__PURE__*/_jsx(BreadcrumbItem, {\n            children: \"Cart\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"cart\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"container\",\n          children: fetching ? /*#__PURE__*/_jsx(Loading, {}) : !data.length ? /*#__PURE__*/_jsx(Empty, {\n            title: \"No Product in cart\",\n            description: \"Discover our shop and add some product to cart!\",\n            ExtraContent: /*#__PURE__*/_jsx(GUButton, {\n              href: \"/others/shop\",\n              variant: \"contained\",\n              shape: \"round\",\n              children: \"Go shopping\"\n            })\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"cart-table\",\n              children: /*#__PURE__*/_jsxs(\"table\", {\n                children: [/*#__PURE__*/_jsxs(\"colgroup\", {\n                  children: [/*#__PURE__*/_jsx(\"col\", {\n                    span: 1,\n                    style: {\n                      width: '50%'\n                    }\n                  }), /*#__PURE__*/_jsx(\"col\", {\n                    span: 1,\n                    style: {\n                      width: '15%'\n                    }\n                  }), /*#__PURE__*/_jsx(\"col\", {\n                    span: 1,\n                    style: {\n                      width: '15%'\n                    }\n                  }), /*#__PURE__*/_jsx(\"col\", {\n                    span: 1,\n                    style: {\n                      width: '15%'\n                    }\n                  }), /*#__PURE__*/_jsx(\"col\", {\n                    span: 1,\n                    style: {\n                      width: ' 5%'\n                    }\n                  })]\n                }), /*#__PURE__*/_jsx(\"thead\", {\n                  children: /*#__PURE__*/_jsxs(\"tr\", {\n                    children: [/*#__PURE__*/_jsx(\"th\", {\n                      children: \"PRODUCT\"\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: \"PRICE\"\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: \"QUATILITY\"\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: \"TOTAL\"\n                    }), /*#__PURE__*/_jsx(\"th\", {\n                      children: \" \"\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(\"tbody\", {\n                  children: data.map((item, index) => /*#__PURE__*/_jsxs(\"tr\", {\n                    children: [/*#__PURE__*/_jsx(\"td\", {\n                      children: /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"cart-product\",\n                        children: [/*#__PURE__*/_jsx(\"img\", {\n                          src: item.cover,\n                          alt: \"Furry hooded parka\"\n                        }), /*#__PURE__*/_jsxs(\"div\", {\n                          className: \"cart-product__content\",\n                          children: [/*#__PURE__*/_jsx(Link, {\n                            href: \"/product/[id]\",\n                            as: `/product/${item.id}`,\n                            children: /*#__PURE__*/_jsx(\"a\", {\n                              href: `/product/${item.id}`,\n                              children: item.name\n                            })\n                          }), /*#__PURE__*/_jsx(\"div\", {\n                            className: \"star\",\n                            \"data-number\": \"4\",\n                            children: times(item.rate, () => /*#__PURE__*/_jsx(\"i\", {\n                              className: \"fas fa-star\"\n                            }))\n                          })]\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsxs(\"td\", {\n                      children: [\"$\", item.discountPrice || item.price]\n                    }), /*#__PURE__*/_jsx(\"td\", {\n                      children: /*#__PURE__*/_jsx(QuantityController, {\n                        defaultValue: item.cartQuantity,\n                        onChange: val => onChangeQuantity(val, item.id)\n                      })\n                    }), /*#__PURE__*/_jsxs(\"td\", {\n                      children: [\"$\", (item.discountPrice || item.price) * item.cartQuantity]\n                    }), /*#__PURE__*/_jsx(\"td\", {\n                      children: /*#__PURE__*/_jsx(GUButton, {\n                        onClick: () => {\n                          setSelectedId(item.id);\n                          setIsOpen(true);\n                        },\n                        children: /*#__PURE__*/_jsx(\"i\", {\n                          className: \"fas fa-times\"\n                        })\n                      })\n                    })]\n                  }, index))\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"cart-footer\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"cart-footer__actions\",\n                children: [/*#__PURE__*/_jsx(GUButton, {\n                  href: \"/others/shop\",\n                  variant: \"contained\",\n                  weight: \"bold\",\n                  color: \"light\",\n                  size: \"large\",\n                  shape: \"round\",\n                  children: \"CONTINUE SHOPPING\"\n                }), /*#__PURE__*/_jsx(GUButton, {\n                  href: \"/others/shop\",\n                  variant: \"contained\",\n                  weight: \"bold\",\n                  color: \"light\",\n                  size: \"large\",\n                  shape: \"round\",\n                  children: \"UPDATE CART\"\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"cart-total\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"row justify-content-between\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-12 col-md-8 col-lg-7\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cart-total__discount\",\n                    children: /*#__PURE__*/_jsxs(\"form\", {\n                      action: \"#\",\n                      children: [/*#__PURE__*/_jsx(\"h3\", {\n                        children: \"DISCOUNT CODES\"\n                      }), /*#__PURE__*/_jsx(\"input\", {\n                        type: \"text\",\n                        name: \"discount\",\n                        placeholder: \"Enter your coupon code\"\n                      }), /*#__PURE__*/_jsx(GUButton, {\n                        variant: \"contained\",\n                        weight: \"bold\",\n                        color: \"primary\",\n                        shape: \"round\",\n                        children: \"Apply\"\n                      })]\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-12 col-md-4\",\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"cart-total__content\",\n                    children: [/*#__PURE__*/_jsx(\"h3\", {\n                      children: \"Cart total\"\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"total__row\",\n                      children: [/*#__PURE__*/_jsx(\"h5\", {\n                        children: \"Subtotal\"\n                      }), /*#__PURE__*/_jsxs(\"h5\", {\n                        children: [\"$\", calculateTotalPrice(data.map(item => (item.discountPrice || item.price) * item.cartQuantity))]\n                      })]\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"total__row\",\n                      children: [/*#__PURE__*/_jsx(\"h5\", {\n                        children: \"Total\"\n                      }), /*#__PURE__*/_jsxs(\"h5\", {\n                        children: [\"$\", calculateTotalPrice(data.map(item => (item.discountPrice || item.price) * item.cartQuantity))]\n                      })]\n                    }), /*#__PURE__*/_jsx(GUButton, {\n                      fullwidth: true,\n                      href: \"/others/checkout\",\n                      variant: \"contained\",\n                      weight: \"bold\",\n                      color: \"primary\",\n                      shape: \"round\",\n                      children: \"PPROCEED TO CHECKOUT\"\n                    })]\n                  })\n                })]\n              })\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsx(SubcribeBar, {\n          onSubmit: handleSubcribeSubmit\n        })\n      })]\n    }), /*#__PURE__*/_jsx(AlertModal, {\n      isOpen: modalIsOpen,\n      onRequestClose: () => setIsOpen(false),\n      onCancelClick: () => setIsOpen(false),\n      onConfirmClick: onConfirmDelete\n    })]\n  });\n};\n\nexport default Cart;","map":null,"metadata":{},"sourceType":"module"}