{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Ian/Desktop/ECPI CIS/CIS453/Week 1/Lab/gute-main/main/source/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _taggedTemplateLiteral from \"C:/Users/Ian/Desktop/ECPI CIS/CIS453/Week 1/Lab/gute-main/main/source/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: right;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport GUButton from '@components/control/gu-button';\nimport CustomedCheckbox from '@components/other/customed-checkbox';\nimport { Formik } from 'formik';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport * as Yup from 'yup';\nvar ButtonContainer = styled.div(_templateObject());\nvar FormSchema = Yup.object().shape({\n  minPrice: Yup.number().lessThan(Yup.ref('maxPrice'), 'Min Price must be less than max price'),\n  maxPrice: Yup.number().moreThan(Yup.ref('minPrice'), 'Max Price must be greater than min price')\n});\n\nvar ShopSidebar = function ShopSidebar(_ref) {\n  var getSelectedCategoriesId = _ref.getSelectedCategoriesId,\n      onFilterPrice = _ref.onFilterPrice;\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      selectedCategoriesId = _useState[0],\n      setSelectedCategoriesId = _useState[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.product.categories;\n  }),\n      data = _useSelector.data;\n\n  useEffect(function () {\n    getSelectedCategoriesId === null || getSelectedCategoriesId === void 0 ? void 0 : getSelectedCategoriesId(selectedCategoriesId);\n  }, [selectedCategoriesId]);\n\n  var normalizeValue = function normalizeValue(value) {\n    return Number(value.split('').filter(function (item) {\n      return '0123456789'.includes(item);\n    }).join(''));\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"shop-sidebar\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"shop-sidebar__section -price\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"center-line-title -medium\",\n        children: /*#__PURE__*/_jsx(\"h5\", {\n          children: \"Price\"\n        })\n      }), /*#__PURE__*/_jsx(Formik, {\n        initialValues: {\n          minPrice: 0,\n          maxPrice: 0\n        },\n        onSubmit: function onSubmit(val) {\n          return onFilterPrice === null || onFilterPrice === void 0 ? void 0 : onFilterPrice(val);\n        },\n        validationSchema: FormSchema,\n        children: function children(_ref2) {\n          var values = _ref2.values,\n              errors = _ref2.errors,\n              touched = _ref2.touched,\n              setFieldValue = _ref2.setFieldValue,\n              handleSubmit = _ref2.handleSubmit;\n          return /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsxs(\"form\", {\n              action: \"/\",\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"range-input\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  children: \"$\"\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  name: \"minPrice\",\n                  value: values.minPrice || 0,\n                  onChange: function onChange(e) {\n                    setFieldValue('minPrice', normalizeValue(e.target.value));\n                  },\n                  type: \"text\"\n                })]\n              }), /*#__PURE__*/_jsx(\"span\", {\n                children: /*#__PURE__*/_jsx(\"i\", {\n                  className: \"far fa-angle-double-right\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"range-input\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  children: \"$\"\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  name: \"maxPrice\",\n                  value: values.maxPrice || 0,\n                  onChange: function onChange(e) {\n                    return setFieldValue('maxPrice', normalizeValue(e.target.value));\n                  },\n                  type: \"text\"\n                })]\n              })]\n            }), errors.minPrice && touched.minPrice && /*#__PURE__*/_jsx(\"span\", {\n              className: \"error\",\n              children: errors.minPrice\n            }), errors.minPrice && touched.maxPrice && /*#__PURE__*/_jsx(\"span\", {\n              className: \"error\",\n              children: errors.maxPrice\n            }), /*#__PURE__*/_jsx(ButtonContainer, {\n              children: /*#__PURE__*/_jsx(GUButton, {\n                onClick: handleSubmit,\n                variant: \"contained\",\n                size: \"small\",\n                color: \"primary\",\n                children: \"Search\"\n              })\n            })]\n          });\n        }\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"shop-sidebar__section -color\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"center-line-title -medium\",\n        children: /*#__PURE__*/_jsx(\"h5\", {\n          children: \"Categories\"\n        })\n      }), data.map(function (item) {\n        return /*#__PURE__*/_jsx(CustomedCheckbox, {\n          label: item.name,\n          onChange: function onChange(checked) {\n            var idIndex = selectedCategoriesId.indexOf(item.id);\n            idIndex === -1 ? setSelectedCategoriesId([].concat(_toConsumableArray(selectedCategoriesId), [item.id])) : setSelectedCategoriesId([].concat(_toConsumableArray(selectedCategoriesId.slice(0, idIndex)), _toConsumableArray(selectedCategoriesId.slice(idIndex + 1))));\n          }\n        });\n      })]\n    })]\n  });\n};\n\nexport default ShopSidebar;","map":null,"metadata":{},"sourceType":"module"}