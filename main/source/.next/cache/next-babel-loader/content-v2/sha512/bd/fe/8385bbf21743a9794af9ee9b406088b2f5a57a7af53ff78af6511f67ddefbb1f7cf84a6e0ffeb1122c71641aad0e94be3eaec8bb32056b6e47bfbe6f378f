{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Ian/Desktop/ECPI CIS/CIS453/Week 1/Lab/CIS435 React Lab/main/source/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Ian/Desktop/ECPI CIS/CIS453/Week 1/Lab/CIS435 React Lab/main/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { addToCart, getCarts, removeFromCart, updateCartQuantity } from '@services/cart';\nimport { cartActions } from '@store/slices/cart';\nimport { commonActions } from '@store/slices/common';\nexport var handleGetCart = function handleGetCart(param) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              dispatch(cartActions.getCartRequest());\n              _context.next = 4;\n              return getCarts(param);\n\n            case 4:\n              data = _context.sent;\n              dispatch(cartActions.getCartSuccess(data));\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch(cartActions.getCartFailed(_context.t0.message));\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var handleAddToCart = function handleAddToCart(product) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              dispatch(cartActions.addToCartRequest());\n              _context2.next = 4;\n              return addToCart(product);\n\n            case 4:\n              dispatch(cartActions.addToCartSuccess());\n              dispatch(commonActions.showToast({\n                message: 'Product added to cart success',\n                type: 'success'\n              }));\n              dispatch(handleGetCart({}));\n              _context2.next = 13;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatch(cartActions.addToCartFailed(_context2.t0.message));\n              dispatch(commonActions.showToast({\n                message: 'Product added to cart failed, please try again',\n                type: 'error'\n              }));\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var handleRemoveFromCart = function handleRemoveFromCart(id) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              dispatch(cartActions.removeFromCartRequest());\n              _context3.next = 4;\n              return removeFromCart(id);\n\n            case 4:\n              dispatch(cartActions.removeFromCartSuccess());\n              dispatch(commonActions.showToast({\n                message: 'Product removed from cart success',\n                type: 'success'\n              }));\n              dispatch(handleGetCart());\n              _context3.next = 13;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n              dispatch(cartActions.removeFromCartFailed(_context3.t0.message));\n              dispatch(commonActions.showToast({\n                message: 'Product removed from cart failed, please try again',\n                type: 'error'\n              }));\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var handleUpdateCartQuantity = function handleUpdateCartQuantity(data) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              dispatch(cartActions.updateCartQuantityRequest());\n              _context4.next = 4;\n              return updateCartQuantity(data);\n\n            case 4:\n              dispatch(cartActions.updateCartQuantitySuccess());\n              dispatch(handleGetCart());\n              _context4.next = 11;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](0);\n              dispatch(cartActions.updateCartQuantityFailed(_context4.t0.message));\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 8]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/Ian/Desktop/ECPI CIS/CIS453/Week 1/Lab/CIS435 React Lab/main/source/src/store/thunk/cart.ts"],"names":["addToCart","getCarts","removeFromCart","updateCartQuantity","cartActions","commonActions","handleGetCart","param","dispatch","getCartRequest","data","getCartSuccess","getCartFailed","message","handleAddToCart","product","addToCartRequest","addToCartSuccess","showToast","type","addToCartFailed","handleRemoveFromCart","id","removeFromCartRequest","removeFromCartSuccess","removeFromCartFailed","handleUpdateCartQuantity","updateCartQuantityRequest","updateCartQuantitySuccess","updateCartQuantityFailed"],"mappings":"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","sourcesContent":["import { addToCart, getCarts, removeFromCart, updateCartQuantity } from '@services/cart';\nimport { QueryParams } from '@store/shared';\nimport { AddToCartBody, cartActions, CartItem, UpdateCartQuantityBody } from '@store/slices/cart';\nimport { commonActions } from '@store/slices/common';\nimport { ProductItem } from '@store/slices/products';\nimport { Dispatch } from 'redux';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const handleGetCart = (param?: QueryParams) => async (dispatch: Dispatch) => {\n  try {\n    dispatch(cartActions.getCartRequest());\n    const data = await getCarts(param);\n    dispatch(cartActions.getCartSuccess(data));\n  } catch (error) {\n    dispatch(cartActions.getCartFailed(error.message));\n  }\n};\n\nexport const handleAddToCart = (product: AddToCartBody) => async (dispatch: Dispatch) => {\n  try {\n    dispatch(cartActions.addToCartRequest());\n    await addToCart(product);\n    dispatch(cartActions.addToCartSuccess());\n    dispatch(commonActions.showToast({ message: 'Product added to cart success', type: 'success' }));\n    dispatch(handleGetCart({}) as any);\n  } catch (error) {\n    dispatch(cartActions.addToCartFailed(error.message));\n    dispatch(commonActions.showToast({ message: 'Product added to cart failed, please try again', type: 'error' }));\n  }\n};\n\nexport const handleRemoveFromCart = (id: number | string) => async (dispatch: Dispatch) => {\n  try {\n    dispatch(cartActions.removeFromCartRequest());\n    await removeFromCart(id);\n    dispatch(cartActions.removeFromCartSuccess());\n    dispatch(commonActions.showToast({ message: 'Product removed from cart success', type: 'success' }));\n    dispatch(handleGetCart() as any);\n  } catch (error) {\n    dispatch(cartActions.removeFromCartFailed(error.message));\n    dispatch(commonActions.showToast({ message: 'Product removed from cart failed, please try again', type: 'error' }));\n  }\n};\n\nexport const handleUpdateCartQuantity = (data: UpdateCartQuantityBody) => async (dispatch: Dispatch) => {\n  try {\n    dispatch(cartActions.updateCartQuantityRequest());\n    await updateCartQuantity(data);\n    dispatch(cartActions.updateCartQuantitySuccess());\n    dispatch(handleGetCart() as any);\n  } catch (error) {\n    dispatch(cartActions.updateCartQuantityFailed(error.message));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}